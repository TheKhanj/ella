digraph systemd_states {
	rankdir=LR;
	node [shape=circle, style=filled, fillcolor=lightgray];

	// States
	inactive     [label="inactive"];
	active       [label="active"];
	failed       [label="failed"];
	activating   [label="activating"];
	deactivating [label="deactivating"];
	reloading    [label="reloading"];

	// Start transition
	inactive     -> activating   [label="start"];
	failed       -> activating   [label="start"];
	activating   -> active       [label="start done"];

	// Watchdog
	active       -> failed       [label="fail"];

	// Stop transition
	active       -> deactivating [label="stop"];
	activating   -> deactivating [label="stop"];
	deactivating -> failed       [label="fail"];
	deactivating -> inactive     [label="stop done"];
	activating   -> failed       [label="fail"];

	// Reload transition
	active       -> reloading    [label="reload"];
	reloading    -> active       [label="reload done"];
}
